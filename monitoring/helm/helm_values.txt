## Chart & namespace
CHART: prometheus-community/kube-prometheus-stack
NAMESPACE: monitoring
RELEASE: kps

## Install / upgrade commands
# Add repo (once):
helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
helm repo update

## Port-forwards
# Prometheus
kubectl -n monitoring port-forward svc/kps-kube-prometheus-stack-prometheus 9090:9090
# Grafana
kubectl -n monitoring port-forward svc/kps-grafana 3000:80

## Grafana login
# Username: admin
# Password:
kubectl -n monitoring get secret kps-grafana -o jsonpath="{.data.admin-password}" | base64 -d   # (use PowerShell decode on Windows)

## ServiceMonitor reminder
# - Service must have metadata.labels that match your ServiceMonitor .spec.selector.matchLabels
# - Service port must be named (e.g., "http")
# - ServiceMonitor should carry label: release: kps
# - Example SM lives at: k8resources/servicemonitor.yaml

